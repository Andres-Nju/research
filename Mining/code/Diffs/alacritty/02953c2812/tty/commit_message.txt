Fix `ioctl` call failing on 32 bit architecture (#1011)