fix logging: only walk remote dir if it exist (#23663)