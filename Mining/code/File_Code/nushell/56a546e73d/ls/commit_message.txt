fix ls when file is a socket on mac (#4983)