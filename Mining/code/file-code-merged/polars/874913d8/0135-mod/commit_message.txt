fix groups update to match exploded offsets (#3010)

