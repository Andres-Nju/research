core: Fix incorrect String.charCodeAt bounds check (close #633)
