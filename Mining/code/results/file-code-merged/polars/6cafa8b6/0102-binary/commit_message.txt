fix aritmetic bug introduced in #3709 (#3741)

