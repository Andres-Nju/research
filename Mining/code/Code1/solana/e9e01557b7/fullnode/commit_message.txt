fix leaked threads from unclosed fullnode